<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="NewwaysAdmin.Mobile.Pages.SimpleLoginPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Simple Login">
    <ScrollView>
        <StackLayout Padding="20" Spacing="15">
            <Label Text="Connection &amp; Login Test" 
                   FontSize="24" 
                   HorizontalOptions="Center" 
                   Margin="0,0,0,20" />

            <!-- Server URL Display -->
            <Label Text="{Binding ServerUrl}" 
                   FontSize="12" 
                   HorizontalOptions="Center" 
                   TextColor="Gray" />

            <!-- Connection Test Section -->
            <Frame BackgroundColor="LightBlue" Padding="15">
                <StackLayout Spacing="10">
                    <Label Text="Connection Test" FontAttributes="Bold" />
                    <Button Text="Test Connection" 
                            Command="{Binding TestConnectionCommand}" 
                            IsEnabled="{Binding IsNotBusy}"
                            BackgroundColor="Blue" />
                    <Label Text="{Binding ConnectionStatus}" 
                           TextColor="{Binding ConnectionColor}"
                           FontSize="12" />
                </StackLayout>
            </Frame>

            <!-- Login Section -->
            <Frame BackgroundColor="LightGreen" Padding="15">
                <StackLayout Spacing="10">
                    <Label Text="Login Test" FontAttributes="Bold" />
                    <Entry Placeholder="Username" 
                           Text="{Binding Username}"
                           IsEnabled="{Binding IsNotBusy}" />
                    <Entry Placeholder="Password" 
                           Text="{Binding Password}"
                           IsPassword="True"
                           IsEnabled="{Binding IsNotBusy}" />
                    <Button Text="Login" 
                            Command="{Binding LoginCommand}"
                            IsEnabled="{Binding IsNotBusy}"
                            BackgroundColor="Green" />
                    <Label Text="{Binding StatusMessage}" 
                           TextColor="{Binding StatusColor}"
                           FontSize="12"
                           IsVisible="{Binding HasStatusMessage}" />
                </StackLayout>
            </Frame>

            <!-- Loading Indicator -->
            <ActivityIndicator IsVisible="{Binding IsBusy}" 
                             IsRunning="{Binding IsBusy}"
                             HorizontalOptions="Center" />

        </StackLayout>
    </ScrollView>
</ContentPage>