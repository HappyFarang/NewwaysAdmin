@* LoadingSpinner.razor - Reusable loading spinner component *@

<div class="text-center @(CssClass ?? "")">
    <div class="spinner-border @GetSpinnerClass()" role="status">
        <span class="visually-hidden">@(LoadingText ?? "Loading...")</span>
    </div>

    @if (ShowText && !string.IsNullOrEmpty(LoadingText))
    {
        <p class="mt-2 text-muted @GetTextClass()">@LoadingText</p>
    }
</div>

@code {
    [Parameter] public string? LoadingText { get; set; } = "Loading...";
    [Parameter] public bool ShowText { get; set; } = true;
    [Parameter] public string Size { get; set; } = "normal"; // "small", "normal", "large"
    [Parameter] public string Color { get; set; } = "primary"; // "primary", "secondary", "success", etc.
    [Parameter] public string? CssClass { get; set; }

    private string GetSpinnerClass()
    {
        var classes = new List<string>();

        // Size
        if (Size == "small")
            classes.Add("spinner-border-sm");

        // Color
        classes.Add($"text-{Color}");

        return string.Join(" ", classes);
    }

    private string GetTextClass()
    {
        return Size == "small" ? "small" : "";
    }
}